<!DOCTYPE html>
<html>
<head>
  <title>Password Protection</title>
  <script type="text/javascript">
    var apiKeys = [
      { key: "f55bc051f2msh236fb47b098e612p16087cjsn5d197e666ca0", expiration: new Date().getTime() + 120000 }, // 2 minutes expiration
      { key: "5d4bc41001msh8061d58e712e8ffp1520edjsn72515b36a183", expiration: new Date().getTime() + 120000 },
      { key: "fddac2cc2emsh54d66c3425a468cp14354bjsn9753fb99c348", expiration: new Date().getTime() + 120000 }
    ];
    var customApiKey = ["chanel", "bianca"];

    function checkPassword() {
      var password = prompt("Please enter the password:");
      var currentTime = new Date().getTime();
      var apiKeyFound = false;

      apiKeys.forEach(function(api) {
        if (api.key === password && api.expiration >= currentTime) {
          apiKeyFound = true;
          sessionStorage.setItem("authenticated", "true");
          sessionStorage.setItem("expirationTime", api.expiration);
          window.location.href = "authentication.html";
        }
      });

      if (!apiKeyFound && customApiKey.includes(password)) {
        sessionStorage.setItem("authenticated", "true");
        sessionStorage.setItem("expirationTime", new Date().getTime() + 120000); // Set expiration time to 2 minutes from now
        window.location.href = "index.html";
      }

      if (!apiKeyFound) {
        alert("Incorrect password or expired API key. Please try again.");
      }
    }

    var isAuthenticated = sessionStorage.getItem("authenticated");
    var expirationTime = sessionStorage.getItem("expirationTime");

    if (!isAuthenticated || expirationTime < new Date().getTime()) {
      if (!sessionStorage.getItem("redirected")) {
        sessionStorage.setItem("redirected", "true");
        sessionStorage.removeItem("authenticated");
        sessionStorage.removeItem("expirationTime");
        window.location.href = "authentication.html";
      }
    }
  </script>
</head>
<body>
  <button onclick="checkPassword()">Enter Site</button>
</body>
</html>
